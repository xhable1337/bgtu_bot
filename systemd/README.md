# BGTU Bot SystemD Service

Этот каталог содержит файлы для настройки systemd сервиса для автоматического запуска BGTU Telegram Bot.

## Файлы

- `bgtu-bot.service.template` - Шаблон файла сервиса с переменными
- `bgtu-bot.service` - Сгенерированный файл сервиса (создается автоматически)

## Использование

Для управления сервисом используйте скрипт `service_manager.sh` из корневой директории проекта:

### Основные команды

```bash
# Сгенерировать файл сервиса из шаблона (без установки)
./service_manager.sh generate

# Установить сервис в систему
sudo ./service_manager.sh install

# Запустить сервис
sudo ./service_manager.sh start

# Остановить сервис
sudo ./service_manager.sh stop

# Перезапустить сервис
sudo ./service_manager.sh restart

# Проверить статус сервиса
./service_manager.sh status

# Просмотреть логи в реальном времени
./service_manager.sh logs

# Удалить сервис из системы
sudo ./service_manager.sh uninstall
```

### Автоматические параметры

Скрипт автоматически определяет:
- **Директория проекта** - текущая директория скрипта
- **Пользователь** - текущий пользователь системы
- **Группа** - основная группа пользователя
- **Путь к Python** - автоматический поиск `python3` в системе

### Особенности сервиса

- **Автозапуск** - сервис запускается автоматически при загрузке системы
- **Автоперезапуск** - в случае сбоя бот перезапускается через 10 секунд
- **Логирование** - все логи доступны через `journalctl`
- **Ограничения ресурсов** - максимум 512MB RAM и 50% CPU
- **Безопасность** - запуск с ограниченными правами

### Примеры использования

```bash
# Быстрая установка и запуск
sudo ./service_manager.sh install
sudo ./service_manager.sh start

# Проверка работы
./service_manager.sh status

# Просмотр логов
./service_manager.sh logs
```

### Устранение неполадок

Если сервис не запускается, проверьте:

1. Правильность путей в сгенерированном файле сервиса
2. Наличие всех зависимостей Python
3. Права доступа к файлам проекта
4. Логи сервиса: `journalctl -u bgtu-bot -n 50`
